# TS Migration

so i came across this issue nearly 2 months ago while i was checking out other repos for processing foundation
found p5.js-web-editor, checked for contributor docs and found about TS migration grant running from July-October 31

ofcourse I had to do my research
then got busy with placements and university exams,

now here I am on 05/12/2025, ready to take a look at it

so i checked how they work on migration

[ts-migration guide](https://github.com/processing/p5.js-web-editor/blob/develop/contributor_docs/pr05_2025_typescript_migration/index.md#configuration-summary)

got this from fellow contributor:

But overall, the approach is:
• find a file you'd like to migrate
• write a test for the existing behaviour
• migrate the file with `git mv <file path>.js <file path>.ts` & commit immediately with the no-verify flag if there are type errors  `git commit --m "migrate <file> to ts, no-verify" --no-verify`
• add types over the file until type errors resolve & verify that no tests break

You can find an index of examples of files that were previously migrated [here (eg. react component, frontend utility file, etc)](https://github.com/processing/p5.js-web-editor/blob/develop/contributor_docs/pr05_2025_typescript_migration/index.md#examples-index)

Writing the test is not completely completely required, but I'd highly recommend it as you can gain a lot of understanding of what past contributors intended for the file, and if there were any improvements that can be made!

It's also helpful for reviewers to verify nothing has changed logic-wise or that logic changes are sound

to start working:
in 1 terminal session, start the app: `npm run start`
in another terminal session, run the test on watch mode: `npm run test:watch`
watch these terminal in case something to catch when breaks while you migrate

copy relative path, update extension via:
`git mv <file.js> <file.ts>`

commit this right away by bypassing pre-commit typecheck
`git commit -m 'filename:update to TS, no-verify' --no-verify`

do global search for all instances of file being used
try file path in case export is a default export

resolve type errors in that respective files. Common ones include adding `state: RootState` in client componentsc

scan the file and its usage for context clues for missing types

install types packages

resolve errors, finally stage everything and commit with a clear message
`git commit -m "filePath: update to named exports & add types"`

now you can push the changes

---

start with `/client/modules` folder

latest pr is for : `client/modules/User`

we will make for `client/modules/Preview`

[link](https://github.com/processing/p5.js-web-editor/pull/3749)
